<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <!-- <link rel="stylesheet" href="css/reset.css"> -->
  <link rel="stylesheet" href="css/style.css">
</head>
<body>


<h1>ローカルストレージの練習</h1>


<h1>としのメモ帳</h1>
<br>
<main style=>
  <textarea name="" id="text"></textarea>

  <ul>
    <li id='save'>保存</li>
    <li id='clear'>削除</li>
  </ul>


</main>














  

  <!-- jquery を先に読み込む（先に読み込まないと使えません！） -->
  <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
  <!-- jqueryのファイルはこの下（↓）に記述して次に読み込む -->


  <script>

// jquery版基本のローカルストレージ（動作確認済み）
// $('main').fadeIn(2000);

// // saveの記述
// $('#save').on('click',function(){
// const v = $('#text').val();
// localStorage.setItem('Toshimemo',v);
// alert('保存しました');
// });


// //削除の記述
// $('#clear').on('click',function(){
// localStorage.removeItem('Toshimemo');
// $('#text').val('');
// alert('削除しました');
// });

// //保存の記録
// if(localStorage.getItem('Toshimemo')){

// const v =localStorage.getItem('Toshimemo');
// $('#text').val(v);

// };


//生jsここからーーーーーーーーーーーーーーーーーーー

//変数定義
let main = document.querySelector('main');
let save = document.querySelector('#save');
let clear = document.querySelector('#clear');
let text = document.querySelector('#text');



// fadeinをjsで記載
main.animate([{opacity: '0'}, {opacity: '1'}], 1500)

//saveの記述

save.onclick = function(){
const v = text.value;
localStorage.setItem('memo',v);
alert('保存しました');
}

//clearの記述
clear.onclick = function(){
localStorage.removeItem('memo');
text.value ='';
alert('削除しました');
}

//再入力時の値を保存

if(localStorage.getItem('memo')){
 
  const v = localStorage.getItem('memo');
  text.value = v;

  setTimeout(dat,1000,'以前のメモを表示しています');
function dat(coment){
  alert(coment);
}
}

  </script>
</body>
</html>